<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HPS' ChatGPT Tools</title>
    <meta name="description" content="Installer for various bookmarklets for and around ChatGPT">
    <link href="//cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>

<div class="container-xxl">
    <div class="row">
        <div class="col-xs-12">
            <div class="card">
                <div class="card-header">Some tools around ChatGPT</div>
                <div class="card-body">
                    <p class="card-text">
                        In addition to the command line tools in <a href="https://github.com/stoerr/chatGPTtools">https://github.com/stoerr/chatGPTtools</a>
                        there are some bookmarklets that need to load different stuff from URLs in order to work. So I'm
                        hosting
                        them on
                        https://stoerr.github.io/chatGPTtools/ . That way you'll get the latest version of the code, and
                        I can update it.
                    </p>
                    <p class="card-text">
                        To install the bookmarklets in your browser, you can drag the following links into your
                        bookmarks bar. Or you can right-click and copy the link, then add it as a bookmark manually. You
                        can even try this on this page by clicking on
                        it.
                    </p>
                    <p>If you have problems, please contact me, <a href="http://www.stoerr.net/">Hans-Peter St√∂rr</a>.
                    </p>
                    <p class="card-text">Base Url: <span id="baseurldisplay"></span></p>
                    <script>
                        var baseurl = location.protocol + '//' + location.host + location.pathname.replace("index.html", "");
                        document.getElementById("baseurldisplay").innerHTML = baseurl;
                    </script>

                    <hr>

                    <h4 class="card-subtitle mb-2">Grab Styles Bookmarklet</h4>
                    <p class="card-text">
                        This lets you select an element in the page and then copies out just that element and its
                        subelements, and all CSS
                        rules that apply to any of those. That way you can copy out the HTML and CSS needed to have
                        ChatGPT answer questions
                        about the CSS. Press 'h' to see the help.
                        See also my blog entry <a href="http://www.stoerr.net/blog/2023-05-10-cssWithChatGPT.html">Some
                        experiences using ChatGPT to develop CSS</a> for what this is good for.
                    </p>

                    <p class="card-text">Bookmarklet to drag: <a id="grabstyles"></a></p>

                    <script>
                        var bookmarklet = "javascript:(function()%7Bjavascript%3A%2F*net.stoerr.chatGPT.grabStyles*%2F(function () %7B%0A    function load(basePath) %7B%0A        if (!window.netStoerrGrabStyles) %7B%0A            var script %3D document.createElement(%27script%27)%3B%0A            script.type %3D %27text%2Fjavascript%27%3B%0A            script.src %3D basePath %2B %27%2FgrabStyles.js%27%3B%0A            script.onload %3D function () %7B%0A                window.netStoerrGrabStyles.init(basePath)%3B%0A                window.netStoerrGrabStyles.start()%3B%0A            %7D%3B%0A            document.body.appendChild(script)%3B%0A        %7D else %7B%0A            window.netStoerrGrabStyles.start()%3B%0A        %7D%0A    %7D%0A%0A    load(%27THEURL%27)%3B%0A%7D)()%3B%7D)()";
                        // https%3A%2F%2Fstoerr.github.io%2FchatGPTtools%2FgrabStyles
                        var url = baseurl + "grabStyles";
                        var element = document.getElementById("grabstyles");
                        element.setAttribute("href", bookmarklet.replace("THEURL", encodeURIComponent(url)));
                        element.innerText = "Grab Styles";
                    </script>

                    <hr>

                    <h4 class="card-subtitle mb-2">ChatGPT Bookmarklet</h4>
                    <p class="card-text">
                        This allows you to send the text of any page to ChatGPT for summarization. You can also ask any
                        followup question on the content.
                        It has growing functionality - see the help for details.
                        See also my blog <a href="http://www.stoerr.net/blog/2023-04-10-readingWithChatGPT.html">Reading
                        with ChatGPT</a> about this.
                    </p>

                    <p>
                        You'll need your own ChatGPT API key to run that, which you can get at <a
                            href="//platform.openai.com/">https://platform.openai.com/</a>.
                        After logging in there with your ChatGPT credentials, you can create an API key in the
                        profile settings (top right corner) at "View API keys".
                        Enter that in the field below. Don't worry - that is just put into the bookmarklet, not
                        transmitted anywhere, except to OpenAI's API when using the bookmarklet.
                    </p>

                    <div class="mb-3">
                        <label for="chatgptapikey" class="form-label">ChatGPT API Key</label>
                        <input type="text" class="form-control" id="chatgptapikey" rows="1" autofocus
                               onchange="makeChatGPTLet(this);"></textarea>
                    </div>

                    <p class="card-text">Bookmarklet to drag: <a id="chatgptbookmarklet">Enter a ChatGPT API Key
                        first.</a> (If you want a quick preview of the dialog, you can
                        <a href="javascript:(function()%7Bjavascript%3A%2F*ChatGPTBookmarklet*%2F(function()%20%7B%0A%20%20function%20load(basePath%2C%20apikey)%20%7B%0A%20%20%20%20if%20(!window.hpsChatGPTBookmarklet)%20%7B%0A%20%20%20%20%20%20var%20script%20%3D%20document.createElement(%27script%27)%3B%0A%20%20%20%20%20%20script.type%20%3D%20%27text%2Fjavascript%27%3B%0A%20%20%20%20%20%20script.src%20%3D%20basePath%20%2B%20%27%2FChatGPTBookmarklet.js%27%3B%0A%20%20%20%20%20%20script.onload%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20window.hpsChatGPTBookmarklet.init(basePath%2C%20apikey%2C%20window.hpsChatGPTBookmarklet.openDialog)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20document.body.appendChild(script)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20window.hpsChatGPTBookmarklet.openDialog()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20load(%27https%3A%2F%2Fstoerr.github.io%2FchatGPTtools%2FChatGPTBookmarklet%27%2C%20%27sk-123456789012345678901234567890123456789012345678%27)%3B%0A%7D)()%3B%7D)()">click
                            here</a>.
                        That doesn't work, though, since it doesn't have an API key.)
                    </p>

                    <script>
                        function makeChatGPTLet() {
                            var apikey = document.getElementById("chatgptapikey").value;
                            var element = document.getElementById("chatgptbookmarklet");
                            if (apikey && apikey.startsWith('sk-') && apikey.trim().length == 51) {
                                var bookmarklet = "javascript:(function()%7Bjavascript%3A%2F*ChatGPTBookmarklet*%2F(function()%20%7B%0A%20%20function%20load(basePath%2C%20apikey)%20%7B%0A%20%20%20%20if%20(!window.hpsChatGPTBookmarklet)%20%7B%0A%20%20%20%20%20%20var%20script%20%3D%20document.createElement(%27script%27)%3B%0A%20%20%20%20%20%20script.type%20%3D%20%27text%2Fjavascript%27%3B%0A%20%20%20%20%20%20script.src%20%3D%20basePath%20%2B%20%27%2FChatGPTBookmarklet.js%27%3B%0A%20%20%20%20%20%20script.onload%20%3D%20function%20()%20%7B%0A%20%20%20%20%20%20%20%20window.hpsChatGPTBookmarklet.init(basePath%2C%20apikey%2C%20window.hpsChatGPTBookmarklet.openDialog)%3B%0A%20%20%20%20%20%20%7D%3B%0A%20%20%20%20%20%20document.body.appendChild(script)%3B%0A%20%20%20%20%7D%20else%20%7B%0A%20%20%20%20%20%20window.hpsChatGPTBookmarklet.openDialog()%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%20%20load(%27THEURL%27%2C%20%27THEKEY%27)%3B%0A%7D)()%3B%7D)()";
                                var url = baseurl + "ChatGPTBookmarklet";
                                element.setAttribute("href", bookmarklet.replace("THEURL", encodeURIComponent(url)).replace('THEKEY', apikey.trim()));
                                element.innerText = "ChatGPT Bookmarklet";
                            } else {
                                element.innerText = "Enter a ChatGPT API Key first.";
                            }
                        }
                    </script>

                </div>
            </div>
        </div>
    </div>
</div>

<script src="//cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
</body>
</html>
